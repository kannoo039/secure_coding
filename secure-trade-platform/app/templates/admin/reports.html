{% extends 'layout.html' %}
{% block content %}
<div class="container mt-4">
    <h2>ğŸ“¢ ì‹ ê³  ë‚´ì—­</h2>

    <h4 class="mt-4">ğŸ“Œ ì‚¬ìš©ì ì‹ ê³ </h4>
    <ul>
        {% for report in reported_users %}
            <li>
                ì‹ ê³ ì ID: {{ report.reporter_id }} â†’ ì‹ ê³  ëŒ€ìƒ ì‚¬ìš©ì ID: {{ report.reported_user_id }}
                {% if current_user.is_authenticated and current_user.is_admin %}
                    <form method="POST" action="{{ url_for('admin_bp.deactivate_user', user_id=report.reported_user_id) }}" style="display:inline;">
                        <button type="submit" class="btn btn-sm btn-danger">ê³„ì • ì •ì§€</button>
                    </form>
                {% endif %}
            </li>
        {% else %}
            <li>ì‹ ê³ ëœ ì‚¬ìš©ìê°€ ì—†ìŠµë‹ˆë‹¤.</li>
        {% endfor %}
    </ul>

    <h4 class="mt-4">ğŸ“Œ ê²Œì‹œê¸€ ì‹ ê³ </h4>
    <ul>
        {% for report in reported_posts %}
            <li>
                ì‹ ê³ ì ID: {{ report.reporter_id }} â†’ ì‹ ê³  ëŒ€ìƒ ê²Œì‹œê¸€ ID: {{ report.post_id }}
                {% if current_user.is_authenticated and current_user.is_admin %}
                    <form method="POST" action="{{ url_for('admin_bp.delete_post', post_id=report.post_id) }}" style="display:inline;">
                        <button type="submit" class="btn btn-sm btn-warning">ê²Œì‹œê¸€ ì‚­ì œ</button>
                    </form>
                {% endif %}
            </li>
        {% else %}
            <li>ì‹ ê³ ëœ ê²Œì‹œê¸€ì´ ì—†ìŠµë‹ˆë‹¤.</li>
        {% endfor %}
    </ul>
</div>
{% endblock %}

